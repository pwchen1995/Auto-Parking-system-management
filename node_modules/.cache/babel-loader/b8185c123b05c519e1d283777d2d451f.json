{"ast":null,"code":"import _defineProperty from\"/Users/kevinchen/Desktop/WSU_Spring2021/Software Quality/project/ia5-pwchen1995/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/kevinchen/Desktop/WSU_Spring2021/Software Quality/project/ia5-pwchen1995/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/kevinchen/Desktop/WSU_Spring2021/Software Quality/project/ia5-pwchen1995/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/kevinchen/Desktop/WSU_Spring2021/Software Quality/project/ia5-pwchen1995/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/kevinchen/Desktop/WSU_Spring2021/Software Quality/project/ia5-pwchen1995/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/kevinchen/Desktop/WSU_Spring2021/Software Quality/project/ia5-pwchen1995/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import AppMode from'../AppMode.js';var ReservationForm=/*#__PURE__*/function(_React$Component){_inherits(ReservationForm,_React$Component);function ReservationForm(props){var _this;_classCallCheck(this,ReservationForm);_this=_possibleConstructorReturn(this,_getPrototypeOf(ReservationForm).call(this,props));//Create date object for today, taking time zone into consideration\n_this.handleChange=function(event){var name=event.target.name;if(name===\"seconds\"){var newSec=event.target.value.length<2?\"0\"+event.target.value:event.target.value;var newSGS=_this.computeSGS(_this.state.strokes,_this.state.minutes,newSec);_this.setState({seconds:newSec,SGS:newSGS});}else if(name===\"strokes\"){var newStrokes=event.target.value;var _newSGS=_this.computeSGS(newStrokes,_this.state.minutes,_this.state.seconds);_this.setState({strokes:newStrokes,SGS:_newSGS});}else if(name===\"minutes\"){var newMin=event.target.value;var _newSGS2=_this.computeSGS(_this.state.strokes,newMin,_this.state.seconds);_this.setState({minutes:newMin,SGS:_newSGS2});}else{_this.setState(_defineProperty({},name,event.target.value));}};_this.handleSubmit=function(event){//start spinner\n_this.setState({faIcon:\"fa fa-spin fa-spinner\",btnLabel:_this.props.mode===AppMode.RESERVATIONS_LOGRESERVATION?\"Saving...\":\"Updating...\"});//Prepare current round data to be saved\nvar roundData=_this.state;delete roundData.faIcon;delete roundData.btnLabel;//call saveRound on 1 second delay to show spinning icon\nsetTimeout(_this.props.saveRound,1000,roundData);event.preventDefault();};_this.computeSGS=function(strokes,min,sec){return Number(strokes)+Number(min)+\":\"+sec;};var today=new Date(Date.now()-new Date().getTimezoneOffset()*60000);//store date as ISO string\nif(_this.props.mode===AppMode.RESERVATIONS_LOGRESERVATION){//If logging a new round, the starting state is a default round with\n//today's date.\n_this.state={date:today.toISOString().substr(0,10),plate:\"\",slot:\"\",notes:\"\",faIcon:\"fa fa-save\",btnLabel:\"Save Round Data\"};}else{//if editing an existing round, the starting state is the round's\n//current data\n_this.state=_this.props.startData;_this.state.faIcon=\"fa fa-edit\";_this.state.btnLabel=\"Update Reservation Data\";}return _this;}_createClass(ReservationForm,[{key:\"render\",value:function render(){return React.createElement(\"form\",{className:\"padded-page\",onSubmit:this.handleSubmit},React.createElement(\"center\",null,React.createElement(\"label\",null,\"Date:\",React.createElement(\"input\",{name:\"date\",className:\"form-control form-center\",type:\"date\",value:this.state.date,onChange:this.handleChange})),React.createElement(\"p\",null),React.createElement(\"label\",null,\"Time: \",React.createElement(\"br\",null),React.createElement(\"input\",{name:\"minutes\",type:\"number\",size:\"3\",min:\"0\",max:\"400\",value:this.state.minutes,onChange:this.handleChange}),\":\",React.createElement(\"input\",{name:\"seconds\",type:\"number\",size:\"2\",min:\"1\",max:\"60\",value:this.state.seconds,onChange:this.handleChange})),React.createElement(\"p\",null),React.createElement(\"label\",null,\"Plate:\",React.createElement(\"input\",{name:\"plate\",className:\"form-control form-center\",type:\"text\",value:this.state.plate,onChange:this.handleChange,placeholder:\"Plate Number\",size:\"50\",maxLength:\"50\"})),React.createElement(\"p\",null),React.createElement(\"label\",null,\"Preferred Slot:\",React.createElement(\"input\",{name:\"slot\",className:\"form-control form-center\",type:\"text\",value:this.state.slot,onChange:this.handleChange,placeholder:\"Prefer Slot ID\",size:\"20\",maxLength:\"20\"})),React.createElement(\"p\",null),React.createElement(\"label\",null,\"Notes:\",React.createElement(\"textarea\",{name:\"notes\",className:\"form-control\",rows:\"6\",cols:\"75\",placeholder:\"Enter round notes\",value:this.state.notes,onChange:this.handleChange})),React.createElement(\"p\",null),React.createElement(\"p\",null),React.createElement(\"button\",{type:\"submit\",style:{width:\"70%\",fontSize:\"36px\"},className:\"btn btn-primary btn-color-theme\"},React.createElement(\"span\",{className:this.state.faIcon}),\"\\xA0\",this.state.btnLabel)));}}]);return ReservationForm;}(React.Component);export default ReservationForm;","map":{"version":3,"sources":["/Users/kevinchen/Desktop/WSU_Spring2021/Software Quality/project/ia5-pwchen1995/src/components/ReservationForm.js"],"names":["React","AppMode","ReservationForm","props","handleChange","event","name","target","newSec","value","length","newSGS","computeSGS","state","strokes","minutes","setState","seconds","SGS","newStrokes","newMin","handleSubmit","faIcon","btnLabel","mode","RESERVATIONS_LOGRESERVATION","roundData","setTimeout","saveRound","preventDefault","min","sec","Number","today","Date","now","getTimezoneOffset","date","toISOString","substr","plate","slot","notes","startData","width","fontSize","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AppMode from '../AppMode.js';\n\nclass ReservationForm extends React.Component {\n    constructor(props) {\n        super(props);\n        //Create date object for today, taking time zone into consideration\n        let today = new Date(Date.now()-(new Date()).getTimezoneOffset()*60000);\n        //store date as ISO string\n        if (this.props.mode === AppMode.RESERVATIONS_LOGRESERVATION) {\n            //If logging a new round, the starting state is a default round with\n            //today's date.\n            this.state = {date:  today.toISOString().substr(0,10), \n                        plate: \"\",\n                        slot: \"\",\n                        notes: \"\",\n                        faIcon: \"fa fa-save\",\n                        btnLabel: \"Save Round Data\"}\n        } else {\n            //if editing an existing round, the starting state is the round's\n            //current data\n            this.state = this.props.startData;\n            this.state.faIcon = \"fa fa-edit\";\n            this.state.btnLabel = \"Update Reservation Data\";\n        }\n    }\n  \n  \n    handleChange = (event) => {\n        const name = event.target.name;\n        if (name === \"seconds\") {\n          let newSec = (event.target.value.length < 2 ? \"0\" + \n            event.target.value : event.target.value);\n          let newSGS = this.computeSGS(this.state.strokes, this.state.minutes, \n                                       newSec);\n          this.setState({seconds: newSec, SGS: newSGS});\n        } else if (name === \"strokes\") {\n          let newStrokes = event.target.value;\n          let newSGS = this.computeSGS(newStrokes, this.state.minutes, \n            this.state.seconds);\n          this.setState({strokes: newStrokes, SGS: newSGS});\n        } else if (name === \"minutes\") {\n            let newMin = event.target.value;\n            let newSGS = this.computeSGS(this.state.strokes, newMin, \n              this.state.seconds);\n            this.setState({minutes: newMin, SGS: newSGS});\n        } else {\n          this.setState({[name]: event.target.value});\n        }\n    }\n  \n    //handleSubmit -- When the user clicks on the button to save/update the\n    //round, start the spinner and invoke the parent component's saveRound\n    //method to do the actual work. Note that saveRound is set to the correct\n    //parent method based on whether the user is logging a new round or editing\n    //an existing round.\n    handleSubmit = (event) => {\n        //start spinner\n        this.setState({faIcon: \"fa fa-spin fa-spinner\",\n                        btnLabel: (this.props.mode === AppMode.RESERVATIONS_LOGRESERVATION ? \n                                    \"Saving...\" : \"Updating...\")});\n        //Prepare current round data to be saved\n        let roundData = this.state;\n        delete roundData.faIcon;\n        delete roundData.btnLabel;\n        //call saveRound on 1 second delay to show spinning icon\n        setTimeout(this.props.saveRound,1000,roundData); \n        event.preventDefault(); \n        }\n  \n\n    computeSGS = (strokes, min, sec) => {\n      return (Number(strokes) + Number(min)) \n                  + \":\" + sec;\n    }\n  \n    render() {\n      return (\n        <form className=\"padded-page\" onSubmit={this.handleSubmit}>\n          <center>\n            <label>\n              Date:\n              <input name=\"date\" className=\"form-control form-center\" \n                type=\"date\" value={this.state.date} onChange={this.handleChange} />\n            </label>\n            <p></p>\n            <label>Time: <br></br>\n          <input name=\"minutes\" type=\"number\" size=\"3\"\n            min=\"0\" max=\"400\" value={this.state.minutes}\n            onChange={this.handleChange} />:  \n          <input name=\"seconds\" type=\"number\" size=\"2\"\n            min=\"1\" max=\"60\" value={this.state.seconds} \n            onChange={this.handleChange} />\n          </label>\n          <p></p>\n            <label>\n              Plate:\n              <input name=\"plate\" className=\"form-control form-center\" type=\"text\"\n                value={this.state.plate} onChange={this.handleChange}\n                placeholder=\"Plate Number\" size=\"50\" maxLength=\"50\" />\n            </label>\n          <p></p>\n          <label>\n              Preferred Slot:\n              <input name=\"slot\" className=\"form-control form-center\" type=\"text\"\n                value={this.state.slot} onChange={this.handleChange}\n                placeholder=\"Prefer Slot ID\" size=\"20\" maxLength=\"20\" />\n            </label>\n          <p></p>\n          <label>Notes:\n              <textarea name=\"notes\" className=\"form-control\" rows=\"6\" cols=\"75\" \n                placeholder=\"Enter round notes\" value={this.state.notes} \n                onChange={this.handleChange} />\n          </label>\n          <p></p>\n          <p></p>\n          <button type=\"submit\" style={{width: \"70%\",fontSize: \"36px\"}} \n            className=\"btn btn-primary btn-color-theme\">\n              <span className={this.state.faIcon}/>&nbsp;{this.state.btnLabel}\n          </button>\n          </center>\n        </form>\n      );\n    }\n}\n\nexport default ReservationForm;"]},"metadata":{},"sourceType":"module"}